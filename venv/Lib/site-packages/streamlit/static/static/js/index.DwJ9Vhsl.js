import{r as o,E as T,_ as V,Q as $e,cj as v,ck as me,x as g,l as F,j as a,P as Q,b as ye,B as Ce,ax as z,T as We,a0 as H,g as Z,ay as we,Z as ve,bU as Ne,k as Pe,f as Oe,b1 as qe,cl as Ke,e as j,bM as he,bN as Xe}from"./index.CqTPbV5Y.js";import{g as je,C as Ge,I as Ye,F as _,E as xe,b as _e,s as Qe,u as Ze,a as Je}from"./FileHelper.5nCh9KDY.js";import{u as et}from"./useWaveformController.BCmk6WLk.js";import{I as tt}from"./InputInstructions.2R3tBtW9.js";import{u as ot,T as rt}from"./useTextInputAutoExpand.ytEW5QmA.js";import{i as nt}from"./inputUtils.CptNuJwn.js";import{E as at}from"./ErrorOutline.esm.sMJdFExW.js";import{U as be}from"./UploadFileInfo.C-jY39rj.js";import"./base-input.BXTqYbyG.js";var Ie=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 015 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 005 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}))});Ie.displayName="AttachFile";var Ee=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M18 6.7l-8.48 8.48-3.54-3.54a.996.996 0 10-1.41 1.41l4.24 4.24c.39.39 1.02.39 1.41 0l9.18-9.18a.999.999 0 00-.01-1.42c-.37-.38-1-.38-1.39.01z"}))});Ee.displayName="Check";var ze=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),o.createElement("path",{d:"M18.3 5.71a.996.996 0 00-1.41 0L12 10.59 7.11 5.7A.996.996 0 105.7 7.11L10.59 12 5.7 16.89a.996.996 0 101.41 1.41L12 13.41l4.89 4.89a.996.996 0 101.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))});ze.displayName="Close";var Se=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}))});Se.displayName="ErrorOutline";var Fe=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"}),o.createElement("path",{d:"M17.91 11c-.49 0-.9.36-.98.85C16.52 14.21 14.47 16 12 16s-4.52-1.79-4.93-4.15a.998.998 0 00-.98-.85c-.61 0-1.09.54-1 1.14.49 3 2.89 5.34 5.91 5.78V20c0 .55.45 1 1 1s1-.45 1-1v-2.08c3.02-.44 5.42-2.78 5.91-5.78.1-.6-.39-1.14-1-1.14z"}))});Fe.displayName="Mic";var Ue=o.forwardRef(function(e,t){var n={fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"};return o.createElement(T,V({iconAttrs:n,iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:t}),o.createElement("rect",{width:24,height:24,fill:"none"}),o.createElement("path",{d:"M3 5.51v3.71c0 .46.31.86.76.97L11 12l-7.24 1.81c-.45.11-.76.51-.76.97v3.71c0 .72.73 1.2 1.39.92l15.42-6.49c.82-.34.82-1.5 0-1.84L4.39 4.58C3.73 4.31 3 4.79 3 5.51z"}))});Ue.displayName="Send";const N=$e.getLogger("ChatInput"),Re=(e,t)=>t===v.Directory?{...e,webkitdirectory:"",multiple:!0}:e,it=(e,t)=>{if(!t||t.length===0)return!0;const n=e.name.toLowerCase(),l=n.lastIndexOf(".");if(l===-1||l===n.length-1)return t.some(m=>m===""||m===".");const u=n.substring(l),c=n.substring(l+1);return t.some(m=>{const C=m.toLowerCase();return C.startsWith(".")?u===C:c===C})},st=(e,t)=>it(e,t)?{isValid:!0}:{isValid:!1,errorMessage:`${e.type||"This type of"} files are not allowed.`},De=e=>{switch(e){case v.None:return"a file";case v.Single:return"a file";case v.Multiple:return"files";case v.Directory:return"a directory";default:return me(e),"a file"}},lt=g("div",{target:"e15560op0"})(({theme:e,height:t})=>({backgroundColor:e.colors.transparent,position:"absolute",left:0,bottom:0,minHeight:`max(${e.sizes.emptyDropdownHeight}, ${t})`,width:"100%",zIndex:e.zIndices.priority})),ct=g("div",{target:"e15560op1"})(({theme:e,height:t})=>({border:`${e.sizes.borderWidth} solid`,borderColor:e.colors.primary,borderRadius:e.radii.chatInput,backgroundColor:e.colors.secondaryBg,color:e.colors.primary,display:"flex",alignItems:"center",justifyContent:"center",height:t,width:"100%",fontWeight:e.fontWeights.bold})),dt=g("div",{target:"e15560op2"})(({theme:e,disabled:t})=>({display:"flex",alignItems:"top",height:"100%",marginTop:`-${e.sizes.borderWidth}`,cursor:t?"not-allowed":"auto"})),ut=g("div",{target:"e15560op3"})(({disabled:e})=>({pointerEvents:e?"none":"auto"})),pt=g("div",{target:"e15560op4"})(({theme:e})=>({marginTop:"0.625em",marginLeft:e.spacing.sm,height:e.spacing.xl,width:e.sizes.borderWidth,backgroundColor:e.colors.fadedText20})),gt=g("div",{target:"e15560op5"})(({theme:e})=>({left:0,right:0,lineHeight:e.lineHeights.tight,paddingLeft:e.spacing.sm,paddingRight:e.spacing.sm,overflowX:"auto"})),ft=g("div",{target:"e15560op6"})({display:"flex"}),ht=g("div",{target:"e15560op7"})({flex:"0 0 auto"}),mt=g("div",{target:"e15560op8"})(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing.sm,gap:e.spacing.twoXS})),yt=g("div",{target:"e15560op9"})(({theme:e})=>({color:e.colors.fadedText60})),Ct=g("div",{target:"e15560op10"})(({theme:e,fileStatus:t})=>({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.type==="uploaded"?e.colors.bodyText:e.colors.fadedText60})),wt=g("div",{target:"e15560op11"})(({theme:e})=>({marginRight:e.spacing.md,color:e.colors.fadedText60})),vt=g("small",{target:"e15560op12"})(({theme:e})=>({display:"flex",alignItems:"center",maxHeight:e.sizes.smallElementHeight,color:e.colors.fadedText60,"& :hover":{color:e.colors.bodyText}})),xt=({getRootProps:e,getInputProps:t,acceptFile:n,disabled:l,theme:u})=>{const c=Re(t(),n);return F(dt,{disabled:l,children:[F(ut,{"data-testid":"stChatInputFileUploadButton",disabled:l,...e(),children:[a("input",{...c}),a(We,{content:`Upload or drag and drop ${De(n)}`,placement:Q.TOP,onMouseEnterDelay:500,children:a(ye,{kind:Ce.MINIMAL,disabled:l,children:a(z,{content:Ie,size:"lg",color:l?u.colors.fadedText40:u.colors.fadedText60})})})]}),a(pt,{})]})},bt=o.memo(xt),It=({getRootProps:e,getInputProps:t,acceptFile:n,inputHeight:l})=>{const u=Re(t(),n);return F(H,{children:[a(lt,{height:l,...e(),children:a("input",{...u})}),a(ct,{height:l,children:`Drag and drop ${De(n)} here`})]})},Et=o.memo(It);function zt({children:e,content:t}){const n=Z();return a(we,{content:t,placement:Q.TOP,overrides:{Body:{style:{top:`-${n.sizes.minElementHeight}`}}},children:e})}const St=({fileInfo:e})=>{const t=Z(),{type:n}=e.status;switch(n){case"uploading":return a(ve,{iconValue:"spinner",testid:"stChatInputFileIconSpinner",size:"lg"});case"error":return a(zt,{content:e.status.errorMessage,children:a(z,{color:t.colors.redTextColor,content:at,size:"lg"})});case"uploaded":return a(z,{content:Ye,size:"lg"});default:return me(n),null}},Ft=({fileInfo:e,onDelete:t})=>F(mt,{className:"stChatInputFile","data-testid":"stChatInputFile",children:[a(yt,{children:a(St,{fileInfo:e})}),a(Ct,{className:"stChatInputFileName","data-testid":"stChatInputFileName",title:e.name,fileStatus:e.status,children:e.name}),a(wt,{children:je(e.size,_.Byte)}),a(vt,{"data-testid":"stChatInputDeleteBtn",children:a(ye,{onClick:()=>t(e.id),kind:Ce.MINIMAL,children:a(z,{content:Ge,size:"lg"})})})]}),Ut=o.memo(Ft),Rt=({items:e,onDelete:t})=>a(gt,{"data-testid":"stChatUploadedFiles",children:a(ft,{children:e.map(n=>a(ht,{children:a(Ut,{fileInfo:n,onDelete:t})},n.id))})}),Dt=o.memo(Rt),Tt=(e,t)=>{const n=[],l=[];return e.forEach(u=>{const c=st(u,t.fileType);c.isValid?n.push(u):l.push({file:u,errors:[{code:xe.FileInvalidType,message:c.errorMessage||"File type not allowed."}]})}),{accepted:n,rejected:l}},Vt=({acceptMultipleFiles:e,acceptDirectoryFiles:t,maxFileSize:n,uploadClient:l,uploadFile:u,addFiles:c,getNextLocalFileId:m,deleteExistingFiles:C,onUploadComplete:S,element:w})=>(h,f)=>{if(t&&h.length>0){const{accepted:p,rejected:x}=Tt(h,w);h=p,f=[...f,...x]}if(!e&&h.length===0&&f.length>1){const p=f.findIndex(x=>x.errors?.[0].code===xe.TooManyFiles);p>=0&&(h.push(f[p].file),f.splice(p,1))}if(!e&&h.length>0&&C(),l.fetchFileURLs(h).then(p=>{Ne(p,h).forEach(([x,P])=>{u(x,P)})}).catch(p=>{c(h.map(x=>new be(x.name,x.size,m(),{type:"error",errorMessage:p})))}),f.length>0){const p=f.map(x=>_e(x,m(),n));c(p)}S()},Mt=({getNextLocalFileId:e,addFiles:t,updateFile:n,uploadClient:l,element:u,onUploadProgress:c,onUploadComplete:m})=>(C,S)=>{const w=S.webkitRelativePath||S.name,h=new AbortController,f=new be(w,S.size,e(),{type:"uploading",abortController:h,progress:1});t([f]),l.uploadFile({formId:"",...u},C.uploadUrl,S,p=>c(p,f.id),h.signal).then(()=>m(f.id,C)).catch(p=>{p instanceof DOMException&&p.name==="AbortError"||n(f.id,f.setStatus({type:"error",errorMessage:p?p.toString():"Unknown error"}))})},At=g("div",{target:"eyzqfg10"})("border:none;position:relative;display:flex;"),Bt=g("div",{target:"eyzqfg11"})(({theme:e,extended:t})=>({border:`${e.sizes.borderWidth} solid`,borderColor:e.colors.widgetBorderColor??e.colors.transparent,borderRadius:e.radii.chatInput,backgroundColor:e.colors.secondaryBg,position:"relative",flexGrow:1,display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",paddingLeft:e.spacing.lg,maxHeight:t?"none":e.sizes.minElementHeight,gap:e.spacing.sm,overflow:"hidden",":focus-within":{borderColor:e.colors.primary}})),L=g("button",{target:"eyzqfg12"})(({theme:e,disabled:t,extended:n,hasError:l})=>{const u=Pe(e),[c,m]=u?[e.colors.gray60,e.colors.gray80]:[e.colors.gray80,e.colors.gray40],C=()=>l?e.colors.redTextColor:t?c:m;return{border:"none",backgroundColor:e.colors.transparent,borderTopRightRadius:n?"0":e.radii.chatInput,borderTopLeftRadius:n?e.radii.default:"0",borderBottomRightRadius:e.radii.chatInput,display:"inline-flex",alignItems:"center",justifyContent:"center",lineHeight:e.lineHeights.none,margin:e.spacing.none,padding:e.spacing.sm,color:C(),pointerEvents:"auto","&:focus":{outline:"none"},":focus":{outline:"none"},"&:focus-visible":{backgroundColor:u?e.colors.gray10:e.colors.gray90},"&:hover":{color:l?e.colors.red70:e.colors.primary},"&:disabled, &:disabled:hover, &:disabled:active":{backgroundColor:e.colors.transparent,borderColor:e.colors.transparent,color:e.colors.gray60,cursor:"not-allowed"}}}),kt=g("div",{target:"eyzqfg13"})(({theme:e,isRecording:t})=>({display:"flex",alignItems:t?"center":"flex-end",height:"100%",position:t?"static":"absolute",right:t?void 0:0,bottom:t?void 0:0,marginBottom:t?0:`-${e.sizes.borderWidth}`,pointerEvents:"none",gap:0,paddingRight:t?e.spacing.sm:0})),Lt=g("div",{target:"eyzqfg14"})(({theme:e,acceptAudio:t})=>({position:"absolute",bottom:"0px",right:t?`calc(2 * (${e.iconSizes.xl} + 2 * ${e.spacing.sm}) + 2 * ${e.spacing.sm})`:`calc(${e.iconSizes.xl} + 2 * ${e.spacing.sm} + ${e.spacing.sm})`})),Ht=g("div",{target:"eyzqfg15"})(({isRecording:e})=>({display:e?"flex":"none",flex:e?1:void 0,alignItems:"center",minWidth:0})),$t=g("div",{target:"eyzqfg16"})(({theme:e})=>({position:"relative",width:"100%",minHeight:e.sizes.minElementHeight,borderRadius:e.radii.default,overflow:"hidden","& > div":{position:"absolute",inset:0}})),G=(e,t,n)=>n.map(l=>l.id===e?t:l),Y=(e,t)=>t.find(n=>n.id===e);function Wt({disabled:e,element:t,widgetMgr:n,fragmentId:l,uploadClient:u}){const c=Z(),{placeholder:m,maxChars:C}=t,S=o.useRef(0),w=o.useRef(null),h=o.useRef(!1),f=o.useRef(null),p=o.useRef(null),{width:x,elementRef:P}=Oe(),{innerWidth:J,innerHeight:ee}=qe(),[R,O]=o.useState(t.default),[U,D]=o.useState([]),[M,q]=o.useState(!1),[A,te]=o.useState(!1),[K,B]=o.useState(null),k=t.acceptAudio??!1;o.useEffect(()=>()=>{p.current&&p.current.abort()},[]);const b=ot({textareaRef:w,dependencies:[m]}),$=o.useMemo(()=>U.some(r=>r.status.type==="uploading")?!1:R!==""||U.length>0,[U,R]),E=Ke(t.acceptFile),oe=Qe(t.maxUploadSizeMb,_.Megabyte,_.Byte),re=o.useCallback(r=>D(s=>[...s,...r]),[]),ne=o.useCallback(r=>{r.status.type==="uploading"&&r.status.abortController.abort(),r.status.type==="uploaded"&&r.status.fileUrls.deleteUrl&&u.deleteFile(r.status.fileUrls.deleteUrl).catch(s=>{N.error("Failed to delete file from server:",s)})},[u]),ae=o.useCallback(r=>{D(s=>{const d=Y(r,s);return j(d)?s:(ne(d),s.filter(i=>i.id!==r))})},[ne]),ie=o.useCallback(()=>{const r=U.filter(s=>s.status.type==="uploaded").map(s=>{const{name:d,size:i,status:I}=s,{fileId:X,fileUrls:He}=I;return new he({fileId:X,fileUrls:He,name:d,size:i})});return new Xe({uploadedFileInfo:r})},[U]),se=()=>S.current++,Te=Vt({acceptMultipleFiles:E===v.Multiple||E===v.Directory,acceptDirectoryFiles:E===v.Directory,maxFileSize:oe,uploadClient:u,uploadFile:Mt({getNextLocalFileId:se,addFiles:re,updateFile:(r,s)=>{D(d=>G(r,s,d))},uploadClient:u,element:t,onUploadProgress:(r,s)=>{D(d=>{const i=Y(s,d);if(j(i)||i.status.type!=="uploading")return d;const I=Math.round(r.loaded*100/r.total);return i.status.progress===I?d:G(s,i.setStatus({type:"uploading",abortController:i.status.abortController,progress:I}),d)})},onUploadComplete:(r,s)=>{D(d=>{const i=Y(r,d);return j(i)||i.status.type!=="uploading"?d:G(i.id,i.setStatus({type:"uploaded",fileId:s.fileId,fileUrls:s}),d)})}}),addFiles:re,getNextLocalFileId:se,deleteExistingFiles:()=>U.forEach(r=>ae(r.id)),onUploadComplete:()=>{w.current&&w.current.focus()},element:t}),{getRootProps:le,getInputProps:ce}=Ze({onDrop:Te,multiple:E===v.Multiple||E===v.Directory,accept:Je(t.fileType),maxSize:oe}),W=o.useCallback(r=>{if(w.current&&w.current.focus(),!$&&!r||e)return;const s=ie(),d={data:R,fileUploaderState:s,audioFileInfo:r};n.setChatInputValue(t,d,{fromUi:!0},l),D([]),O(""),b.clearScrollHeight()},[$,e,R,ie,n,t,l,b]),de=o.useCallback(async r=>{const s=new Date().toISOString().replace(/[:.]/g,"-"),d=new File([r],`audio-${s}.wav`,{type:"audio/wav"});try{te(!0);const i=await u.fetchFileURLs([d]);if(i.length===0)throw new Error("Failed to get upload URL for audio file");const I=i[0];p.current=new AbortController,await u.uploadFile({formId:"",...t},I.uploadUrl,d,()=>{},p.current.signal);const X=new he({fileId:I.fileId,fileUrls:I,name:d.name,size:d.size});W(X)}catch(i){const I="Recording failed";N.error("Audio upload failed:",i),B(I),w.current&&w.current.focus()}finally{te(!1)}},[u,t,W]),Ve=o.useMemo(()=>({onApprove:de,onPermissionDenied:()=>{const r="Microphone access denied";B(r),N.error("Permission denied:",r)},onError:r=>{B("Recording failed"),N.error("Recording error:",r)},onRecordStart:()=>{B(null)}}),[de]),y=et({containerRef:f,sampleRate:t.audioSampleRate??void 0,events:Ve}),ue=o.useCallback(()=>{W()},[W]),Me=r=>{const{metaKey:s,ctrlKey:d,shiftKey:i}=r;nt(r)&&!i&&!d&&!s&&(r.preventDefault(),ue())},Ae=r=>{const{value:s}=r.target;C!==0&&s.length>C||(O(s),b.updateScrollHeight(),K&&B(null))},pe=o.useCallback(async r=>{r.preventDefault(),r.stopPropagation(),!(!k||e||y.state==="recording")&&await y.start()},[k,e,y]),Be=o.useCallback(()=>{y.cancel(),w.current&&w.current.focus()},[y]),ge=o.useCallback(async()=>{const{blob:r}=await y.stop();await y.approve(r)},[y]),fe=o.useCallback(r=>{pe(r)},[pe]),ke=o.useCallback(()=>{ge()},[ge]);o.useEffect(()=>{if(t.setValue&&!h.current){h.current=!0;const r=t.value||"";O(r)}},[t.setValue,t.value]),o.useEffect(()=>{h.current=!1},[t]),o.useEffect(()=>{const r=i=>{i.preventDefault(),i.stopPropagation(),!M&&i.dataTransfer?.types.includes("Files")&&q(!0)},s=i=>{i.preventDefault(),i.stopPropagation(),M&&(i.clientX<=0&&i.clientY<=0||i.clientX>=J&&i.clientY>=ee)&&q(!1)},d=i=>{i.preventDefault(),i.stopPropagation(),M&&q(!1)};return window.addEventListener("dragover",r),window.addEventListener("drop",d),window.addEventListener("dragleave",s),()=>{window.removeEventListener("dragover",r),window.removeEventListener("drop",d),window.removeEventListener("dragleave",s)}},[M,J,ee]);const Le=E!==v.None&&M;return F(H,{children:[E===v.None?null:a(Dt,{items:[...U],onDelete:ae}),a(At,{className:"stChatInput","data-testid":"stChatInput",ref:P,children:Le?a(Et,{getRootProps:le,getInputProps:ce,acceptFile:E,inputHeight:b.height}):F(Bt,{extended:b.isExtended||y.state==="recording",children:[a(Ht,{isRecording:y.state==="recording",children:a($t,{ref:f})}),E===v.None||y.state==="recording"?null:a(bt,{getRootProps:le,getInputProps:ce,acceptFile:E,disabled:e,theme:c}),y.state!=="recording"&&a(rt,{inputRef:w,value:R,placeholder:m,onChange:Ae,onKeyDown:Me,"aria-label":m,disabled:e,rows:1,overrides:{Root:{style:{minHeight:c.sizes.minElementHeight,outline:"none",borderLeftWidth:"0",borderRightWidth:"0",borderTopWidth:"0",borderBottomWidth:"0",borderTopLeftRadius:"0",borderTopRightRadius:"0",borderBottomRightRadius:"0",borderBottomLeftRadius:"0"}},Input:{props:{"data-testid":"stChatInputTextArea"},style:{fontWeight:c.fontWeights.normal,lineHeight:c.lineHeights.inputWidget,"::placeholder":{color:c.colors.fadedText60},height:b.height,maxHeight:b.maxHeight,paddingLeft:c.spacing.none,paddingBottom:c.spacing.sm,paddingTop:c.spacing.sm,paddingRight:k?`calc(2 * (${c.iconSizes.xl} + 2 * ${c.spacing.sm}))`:`calc(${c.iconSizes.xl} + 2 * ${c.spacing.sm} + ${c.spacing.sm})`}}}}),y.state!=="recording"&&x>c.breakpoints.hideWidgetDetails&&a(Lt,{acceptAudio:k,children:a(tt,{dirty:$,value:R,maxLength:C,type:"chat",inForm:!1})}),a(kt,{isRecording:y.state==="recording",children:y.state==="recording"?F(H,{children:[a(L,{onClick:Be,disabled:e,extended:b.isExtended,"data-testid":"stChatInputCancelButton",children:a(z,{content:ze,size:"lg",color:"inherit"})}),a(L,{onClick:ke,disabled:e||A,extended:b.isExtended,"data-testid":"stChatInputApproveButton",children:A?a(ve,{size:"lg",iconValue:"spinner"}):a(z,{content:Ee,size:"lg",color:"inherit"})})]}):F(H,{children:[k&&a(H,{children:K?a(we,{content:K,placement:Q.TOP,error:!0,children:a(L,{onClick:fe,disabled:e||A,extended:b.isExtended,hasError:!0,"data-testid":"stChatInputMicButton",children:a(z,{content:Se,size:"xl",color:"inherit"})})}):a(L,{onClick:fe,disabled:e||A,extended:b.isExtended,"data-testid":"stChatInputMicButton",children:a(z,{content:Fe,size:"xl",color:"inherit"})})}),a(L,{onClick:ue,disabled:!$||e||A,extended:b.isExtended,"data-testid":"stChatInputSubmitButton",children:a(z,{content:Ue,size:"xl",color:"inherit"})})]})})]})})]})}const _t=o.memo(Wt);export{_t as default};
